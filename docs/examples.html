
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="Python">
  <head>
    <meta charset="utf-8" />
    <title>Examples! &#8212; Pyrlang 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Configuring Pyrlang in Runtime" href="configuration.html" />
    <link rel="prev" title="Building the Library" href="build-library.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="examples">
<h1>Examples!<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<p>Talk is cheap! Show me some code!</p>
<p>Have a look in <a class="reference internal" href="cookbook.html"><span class="doc">Cookbook - How to Get Started</span></a> too!</p>
<p>Some examples are located in <code class="docutils literal notranslate"><span class="pre">examples/</span></code> directory. And there are convenient
<code class="docutils literal notranslate"><span class="pre">Makefile</span></code> targets to call them, just use your Bash autocomplete when typing
<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example&lt;TAB&gt;</span></code>:</p>
<div class="section" id="python-to-erlang">
<h2>1: Python to Erlang<a class="headerlink" href="#python-to-erlang" title="Permalink to this headline">¶</a></h2>
<p>Demonstrates how Python node can actively find a running Erlang node and connect
to it by attempting to send a message.</p>
<p>Running (in two terminal tabs):</p>
<ul class="simple">
<li><p>Start Erlang node with <code class="docutils literal notranslate"><span class="pre">erl</span> <span class="pre">-name</span> <span class="pre">erl&#64;127.0.0.1</span> <span class="pre">-setcookie</span> <span class="pre">COOKIE</span></code>.</p></li>
<li><p>(optional) Register your shell process as <code class="docutils literal notranslate"><span class="pre">shell</span></code> by executing in the
Erlang shell: <code class="docutils literal notranslate"><span class="pre">erlang:register(shell,</span> <span class="pre">self()).</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example1</span></code> - will start a node at <code class="docutils literal notranslate"><span class="pre">py&#64;127.0.0.1</span></code> and using cookie
<code class="docutils literal notranslate"><span class="pre">COOKIE</span></code> will try to connect to Erlang running at <code class="docutils literal notranslate"><span class="pre">erl&#64;127.0.0.1</span></code>;</p></li>
<li><p>(optional) Check whether Erlang shell received <code class="docutils literal notranslate"><span class="pre">hello</span></code> by typing <code class="docutils literal notranslate"><span class="pre">flush().</span></code></p></li>
</ul>
</div>
<div class="section" id="erlang-to-python">
<h2>2: Erlang to Python<a class="headerlink" href="#erlang-to-python" title="Permalink to this headline">¶</a></h2>
<p>Demonstrates how to run a named process on Python node. Erlang node will try and
send message to it by name.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example2</span></code> - will register a process as <code class="docutils literal notranslate"><span class="pre">my_process</span></code> and you can
send messages to it by name from Erlang;</p></li>
<li><p>Start Erlang node with <code class="docutils literal notranslate"><span class="pre">erl</span> <span class="pre">-name</span> <span class="pre">erl&#64;127.0.0.1</span> <span class="pre">-setcookie</span> <span class="pre">COOKIE</span></code>.</p></li>
<li><p>In Erlang shell try send something to <code class="docutils literal notranslate"><span class="pre">my_process</span></code> like this:
<code class="docutils literal notranslate"><span class="pre">{my_process,</span> <span class="pre">'py&#64;127.0.0.1'}</span> <span class="pre">!</span> <span class="pre">{hello,</span> <span class="pre">123,</span> <span class="pre">[&lt;&lt;&quot;test&quot;&gt;&gt;,</span> <span class="pre">self()]}.</span></code></p></li>
<li><p>In Python terminal tab observe log message about incoming data.</p></li>
</ul>
</div>
<div class="section" id="calling-batch-python">
<h2>3 &amp; 4: Calling/Batch Python<a class="headerlink" href="#calling-batch-python" title="Permalink to this headline">¶</a></h2>
<p>Examples are <code class="docutils literal notranslate"><span class="pre">.erl</span></code> files which demonstrate how remote notebook-style calls
and batch calls will work with Erlang and Python.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">pynode</span></code> (same as <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example2</span></code>) to get a running Python node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example3</span></code> or <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example4</span></code> and observe what it prints.</p></li>
</ul>
</div>
<div class="section" id="links-and-monitors-of-pyrlang-processes">
<h2>5: Links and Monitors of Pyrlang Processes<a class="headerlink" href="#links-and-monitors-of-pyrlang-processes" title="Permalink to this headline">¶</a></h2>
<p>Demonstrates Erlang remotely monitoring and linking to Pyrlang processes.
A Python <a class="reference internal" href="modules/process.html#pyrlang.process.Process" title="pyrlang.process.Process"><code class="xref py py-class docutils literal notranslate"><span class="pre">Process</span></code></a> will trigger monitor and link
messages when exiting.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example5a</span></code> will start Erlang node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example5b</span></code> (in another terminal) will start Python Pyrlang node.</p></li>
<li><p>Pyrlang node will send a message starting the test.</p></li>
<li><p>Erlang node will spawn a test process, report its pid to Python node.</p></li>
<li><p>Python node (now knowing the pid) will monitor the Erlang process.</p></li>
<li><p>Python node will send a exit message to Erlang side, and observe the monitor
message arriving back.</p></li>
</ul>
</div>
<div class="section" id="links-monitors-of-erlang-processes">
<h2>6 &amp; 7: Links/Monitors of Erlang Processes<a class="headerlink" href="#links-monitors-of-erlang-processes" title="Permalink to this headline">¶</a></h2>
<p>Demonstrates Pyrlang remotely linking to and monitoring an Erlang process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For linking demo use 'example6a' and 'example6b', for monitoring demo use
'example7a', 'example7b' Makefile targets.</p>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example6a</span></code> will start Erlang node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example6b</span></code> (in another terminal) will start Python Pyrlang node.</p></li>
<li><p>Pyrlang node will send a message starting the test.</p></li>
<li><p>Erlang node will spawn a test process, report its pid to Python node.</p></li>
<li><p>Python node (now knowing the pid) will monitor the Erlang process.</p></li>
<li><p>Python node will send a exit message to Erlang side, and observe the monitor
message arriving back.</p></li>
</ul>
</div>
<div class="section" id="elixir-and-genserver">
<h2>10: Elixir and GenServer<a class="headerlink" href="#elixir-and-genserver" title="Permalink to this headline">¶</a></h2>
<p>This example will demonstrate how to accept <code class="docutils literal notranslate"><span class="pre">gen_server:call</span></code> in your Python
<code class="docutils literal notranslate"><span class="pre">Process</span></code>.</p>
<p>Running (in two terminal tabs):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example10a</span></code> - will start Python part of Example 10 and start a
<code class="xref py py-class docutils literal notranslate"><span class="pre">GenServer</span></code> example;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example10b</span></code> - will start Elixir part of Example 10 and perform 2
<code class="docutils literal notranslate"><span class="pre">gen_server:call</span></code>'s</p></li>
<li><p>In Elixir terminal tab observe results for 1st and 2nd calls.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some examples require a client and a server, these have two parts: example A
and example B.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div style="margin-bottom:16px;">
    <a class="toc-return"
       href="index.html" alt="Return to Start"><strong>Return to Start</strong></a>
</div>


<h1 class="logo"><a href="index.html">Pyrlang</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="build-library.html">Building the Library</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Examples!</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#python-to-erlang">1: Python to Erlang</a></li>
<li class="toctree-l2"><a class="reference internal" href="#erlang-to-python">2: Erlang to Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#calling-batch-python">3 &amp; 4: Calling/Batch Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#links-and-monitors-of-pyrlang-processes">5: Links and Monitors of Pyrlang Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#links-monitors-of-erlang-processes">6 &amp; 7: Links/Monitors of Erlang Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#elixir-and-genserver">10: Elixir and GenServer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuring Pyrlang in Runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook - How to Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_types.html">Data Types in Pyrlang</a></li>
<li class="toctree-l1"><a class="reference internal" href="calling_python.html">Remote Calling Python from Erlang</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules/index.html">Pyrlang modules</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="build-library.html" title="previous chapter">Building the Library</a></li>
      <li>Next: <a href="configuration.html" title="next chapter">Configuring Pyrlang in Runtime</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017-2019, Erlang Solutions Ltd. S2HC Sweden AB.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/examples.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>